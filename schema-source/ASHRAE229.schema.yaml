# ASHRAE229.schema.yaml
# The purpose of this "open229 schema" is to provide a single source generator format from which
# all open229 standard materials, both normative and informative, will be created.

# YAML single-source files will be created in accordance with the open229 schema.

# Meta

Schema:
  Object Type: "Meta"
  Title: "ASHRAE 229"
  Description: "Base schema for ASHRAE 229 representations"
  Version: "0.0.1"
  References:
    - "Enumerations2019ASHRAE901"
  Root Data Group: "ASHRAE229"

# Data Types

Integer:
  Object Type: "Data Type"
  Description: "A positive or negative whole number (i.e., a number that can be written without a fractional part)."
  JSON Schema Type: integer
  Examples:
    - "3"
    - "19"
    - "-4"

Numeric:
  Object Type: "Data Type"
  Description: "A number that may include a fractional part with optional leading sign and optional exponent (engineering notation)."
  JSON Schema Type: number
  Examples:
    - "3.43"
    - "0"
    - "-4"
    - "1.03e4"

Boolean:
  Object Type: "Data Type"
  Description: "True or false."
  JSON Schema Type: boolean
  Examples:
    - "true"
    - "false"

String:
  Object Type: "Data Type"
  Description: "A sequence of characters of any length using any (specified) character set."
  JSON Schema Type: string
  Examples:
    - "Indirect evaporative cooler"

"Null":
  Object Type: "Data Type"
  Description: "Indicator that no value is provided. Only used in combination with other data types, e.g., 'Number/Null'."
  JSON Schema Type: "null"
  Examples:
    - "null"

# Common Enumerations


# Common Data Groups
ASHRAE229:
  Object Type: "Data Group"
  Data Elements:
    transformers:
      Description: "Electrical transformers at the building site"
      Data Type: "[{Transformer}]"
      Notes: "Contains a list of transformers that convert electricity from a higher voltage to one used by the building, exterior lighting, and other services at the site."
    buildings:
      Description: "Buildings on the site"
      Data Type: "[{Building}]"
      Notes: "Contains a list of buildings on the site (often just one)."
    calendar:
      Description: "Information on the calendar used with the simulation."
      Data Type: "{Calendar}"
    schedules:
      Description: "Schedules for internal loads, thermostats, equipment operation and control, and any other need."
      Data Type: "[{Schedule}]"
      Notes: "Contains a list of schedules used in model."
    weather:
      Description: "Information on the local weather conditions used with the simulation."
      Data Type: "{Weather}"
    

Building:
  Object Type: "Data Group"
  Data Elements:
    id:
      Description: "Unique Identification Number"
      Data Type: "Numeric"
      Required: True
      Notes: ""
    name:
      Description: "Name of the Building"
      Data Type: "String"
      Required: True
      Notes: ""
    number_of_floors:
      Description: "Number of floors"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
      Notes: ""
    building_segments:
      Description: "Large portions of a building that share a building area type"
      Data Type: "[{BuildingSegment}]"
      Notes: "Contains a list of building segments in the building."
    is_new:
      Description: "The schedules assume it is a leap year"
      Data Type: "Boolean"
      Required: True

BuildingSegment:    
  Object Type: "Data Group"
  Data Elements:
    id:
      Description: "Unique Identification Number"
      Data Type: "Numeric"
      Required: True
      Notes: ""
    thermal_blocks:
      Description: "thermal blocks in the building"
      Data Type: "[{ThermalBlock}]"
      Notes: "Contains a list of thermal blocks in the building."
    heating_ventilation_air_conditioning_systems:
      Description: "HVAC systems in the building"
      Data Type: "[{HeatingVentilationAirConditioningSystem}]"
      Notes: "Contains a list of HVAC systems in the building."
    area_type_vertical_fenestration:
      Description: "Building area classification used for vertical fenestration"
      Data Type: "<VerticalFenestrationBuildingAreaType2019ASHRAE901>"
      Required: True
      Notes: "The enumeration is based on the standard used."

ThermalBlock:
  Object Type: "Data Group"
  Data Elements:
    zones:
      Description: "zones in the building"
      Data Type: "[{Zone}]"
      Notes: "Contains a list of zones in the building."
    served_by_heating_ventilation_air_conditioning_systems:
      Description: "HVAC systems serving the thermal block"
      Data Type: "[String]"
      Notes: "Contains a list of IDs of the HVAC systems serving the thermal block - from Unique Identification Number in HeatingVentilationAirConditioningSystem."

Zone:
  Object Type: "Data Group"
  Data Elements:
    spaces:
      Description: "Spaces in the building"
      Data Type: "[{Space}]"
      Notes: "Contains a list of spaces in the building."

Space:
  Object Type: "Data Group"
  Data Elements:
    id:
      Description: "Unique Identification Number"
      Data Type: "Numeric"
      Required: True
      Notes: ""
    name:
      Description: "Name fo the Space"
      Data Type: "String"
      Required: True
      Notes: ""
    surfaces:
      Description: "Surfaces surrounding the space"
      Data Type: "[{Surface}]"
      Notes: "Contains a list of surfaces that define the space."
    floor_area:
      Description: "The floor area of a space within the building, including basements, mezzanine and intermediate-floored tiers, and penthouses with a headroom height of 7.5 ft or greater. It is measured from the exterior faces of walls or from the center-line of walls separating buildings, but excluding covered walkways, open roofed-over areas, porches and similar spaces, pipe trenches, exterior terraces or steps, chimneys, roof overhangs, and similar features."
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
      Notes: ""
    floor_area_basis_for_exterior:
      Description: "The basis of the measurement location related to floor area for exterior walls."
      Data Type: "<FloorAreaBasis>"
      Required: True
      Notes: ""
    floor_area_basis_for_interior:
      Description: "The basis of the measurement location related to floor area for interior walls."
      Data Type: "<FloorAreaBasis>"
      Required: True
      Notes: ""
    conditioning_type:
      Description: "Space conditioning category"
      Data Type: "<ConditioningType>"
      Required: False
      Notes: ""
    lighting_space_type:
      Description: "Lighting space type classification"
      Data Type: "<LightingSpaceType2019ASHRAE901>"
      Required: True
      Notes: "The enumeration is based on the standard used."
    ventilations_space_type:
      Description: "Ventilation space type classification"
      Data Type: "<VentilationSpaceType2019ASHRAE901>"
      Required: True
      Notes: "The enumeration is based on the standard used."
    infiltration_modeling_method:
      Description: "The software methodology chosen for modeling infiltration"
      Data Type: "String"
      Required: True
    infiltration_equivalent_full_load_hours:
      Description: "Annual sum of hourly fractions of infiltration schedule"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True

FloorAreaBasis:
  Object Type: "Enumeration"
  Enumerators:
    CENTER:
      Description: "Center line of the wall"
      Notes: ""
      Display Text: "The area is measured to the center line of the wall"
    NEAR_SIDE:
      Description: "Near side of the wall"
      Notes: ""
      Display Text: "The area is measured to the line on the near side wall"
    FAR_SIDE:
      Description: "Far side of the wall"
      Notes: ""
      Display Text: "The area is measured to the line on the far side wall"

ConditioningType:
  Object Type: "Enumeration"
  Enumerators:
    HEATED_AND_COOLED:
      Description: "Heated and cooled"
      Notes: ""
      Display Text: "Heated and cooled"
    HEATED_ONLY:
      Description: "Heated only"
      Notes: ""
      Display Text: "Heated only"
    SEMIHEATED:
      Description: "Semiheated"
      Notes: ""
      Display Text: "Semiheated"
    UNCONDITIONED:
      Description: "Unconditioned"
      Notes: ""
      Display Text: "Unconditioned"
    PLENUM:
      Description: "Plenum"
      Notes: ""
      Display Text: "Plenum"

Surface:
  Object Type: "Data Group"
  Data Elements:
    id:
      Description: "Unique Identification Number"
      Data Type: "Numeric"
      Required: True
      Notes: ""
    name:
      Description: "Name fo the Space"
      Data Type: "String"
      Required: True
      Notes: ""
    fenestration_subsurfaces:
      Description: "Fenestration suburfaces that are on the surface"
      Data Type: "[{Fenestration}]"
      Notes: "Contains a list of surfaces that define the space."
    tilt:
      Description: "Angle between vertical and the surface outward normal, e.g. 0 = roof, 90 = wall, 180 = downward facing surface (exterior floor)"
      Data Type: "Numeric"
      Required: True
    azimuth:
      Description: "Clockwise angle between North (0 degrees) and the horizontal projection of the wall's outward normal. 0 = north, 90 = East, 180 = South, 270 = West"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
    adjacent_to:
      Description: "Determines whether this is an (a) exterior surface if adjacent to ambient, (b) slab-on-grad or below grade surface if adjacent to ground, or (c) interior surface if adjacent to another thermal block."
      Data Type: "<SurfaceAdjacentTo>"
      Required: True
    adjacent_space_ID:
      Description: "ID of the adjacent space for interior surface"
      Data Type: "String"
      Required: True
    does_cast_shade:
      Description: "Determines whether the surface is modeled as casting shade on other exterior surfaces"
      Data Type: "Boolean"
      Required: True
    surfaces:
      Description: "Surfaces surrounding the space"
      Data Type: "[{Surface}]"
      Notes: "Contains a list of surfaces that define the space."
    surface_construction_input_option:
      Description: "Identifies whether construction is entered layer-by-layer or simplified (R-value)"
      Data Type: "<SurfaceConstructionInputOptions>"
      Required: True
    area:
      Description: "area of the surface"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
    u_factor:
      Description: "suface U-factor"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
    c_factor:
      Description: "surface C-factor"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
    f_factor:
      Description: "surface F-factor"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
    reflectance:
      Description: "Reflectance"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
    emittance:
      Description: "Emittance"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
    reflectivity:
      Description: "Reflectivity"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
    
SurfaceAdjacentTo:
  Object Type: "Enumeration"
  Enumerators:
    AMBIENT:
      Description: "Exterior wall or roof which is adjacent to the exterior ambient environments."
    GROUND:
      Description: "Slab-on-grad or below grade surface if adjacent to ground."
    INTERIOR:
      Description: "Interior surface if adjacent to another thermal block."

SurfaceConstructionInputOptions:
  Object Type: "Enumeration"
  Enumerators:
    LAYERS:
      Description: "Construction is entered layer-by-layer."
    SIMPLIFIED:
      Description: "Construction is entered by R-value only."

Fenestration:
  Object Type: "Data Group"
  Data Elements:
    id:
      Description: "Unique Identification Number"
      Data Type: "Numeric"
      Required: True
      Notes: ""
    name:
      Description: "Name of the fenestration subsurface"
      Data Type: "String"
      Required: True
      Notes: ""
    area:
      Description: "area of fenestration including glass and framing"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
    u_factor:
      Description: "fenestration U-factor"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
    solar_heat_gain_coefficient:
      Description: "fenestration SHGC"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
    has_shading_projections:
      Description: "identifies whether fenestration has side fins, overhangs or not flush with wall"
      Data Type: "Boolean"
      Required: True
    has_manual_interior_shades:
      Description: "are there manually-operated interior shading such as blinds, curtains or shades"
      Data Type: "Boolean"
      Required: True
    has_automatic_shades:
      Description: "are there automatic interior shading such as blinds, curtains or shades"
      Data Type: "Boolean"
      Required: True
 
Transformer:
  Object Type: "Data Group"
  Data Elements:
    name:
      Description: "Transformer Name"
      Data Type: "String"
      Required: True
      Notes: ""
    type:
      Description: "The type of transformer"
      Data Type: "<TransformerType>"
      Required: True
      Notes: ""
    phase:
      Description: "The number of electrical phases"
      Data Type: "<TransformerPhase>"
      Required: True
      Notes: ""
    efficiency:
      Description: "Transformer efficiency"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
      Notes: ""
    capacity:
      Description: "Rated Capacity of the Transformer"
      Data Type: "Numeric"
      Units: "Va"
      Range: ">=0"
      Required: True
      Notes: ""
    peak_load:
      Description: "Annual Peak electric load on the transformer"
      Data Type: "Numeric"
      Units: "W"
      Range: ">=0"
      Required: True
      Notes: ""
    capacity_ratio:
      Description: "Annual Peak electric load of the transformer divided by the capacity"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
      Notes: ""
    
TransformerType:
  Object Type: "Enumeration"
  Enumerators:
    DRY_TYPE:
      Description: "Dry Type"
      Notes: ""
      Display Text: "Dry Type"
    FLUID_FILLED:
      Description: "Fluid Filled"
      Notes: ""
      Display Text: "Fluid Filled"
    OTHER:
      Description: "Other"
      Notes: ""
      Display Text: "Other"

TransformerPhase:
  Object Type: "Enumeration"
  Enumerators:
    SINGLE_PHASE:
      Description: "Single Phase"
      Notes: ""
      Display Text: "Single Phase"
    THREE_PHASE:
      Description: "Three Phase"
      Notes: ""
      Display Text: "Three Phase"

Schedule:
  Object Type: "Data Group"
  Data Elements:
    id:
      Description: "Unique Identification Number"
      Data Type: "Numeric"
      Required: True
      Notes: ""
    name:
      Description: "Name of the Schedule"
      Data Type: "String"
      Required: True
      Notes: ""
    type:
      Description: "The type of schedule"
      Data Type: "String"
      Required: True
      Notes: "Not an enumerations because we only care that the type assigned by BEM tool matches across RMR"
    values:
      Description: "Hourly Values of Schedule"
      Data Type: "[Numeric][1..8760]"
      Required: True
      Notes: ""
    
Calendar:
  Object Type: "Data Group"
  Data Elements:
    id:
      Description: "Unique Identification Number"
      Data Type: "Numeric"
      Required: True
    day_of_week_for_january_1:
      Description: "Day of the Week for January 1"
      Data Type: "<DayOfWeek>"
      Required: True
    is_leap_year:
      Description: "The schedules assume it is a leap year"
      Data Type: "Boolean"
      Required: True
    is_daylight_savings_time:
      Description: "The schedules adjust for daylight Savings Time"
      Data Type: "Boolean"
      Required: True

DayOfWeek:
  Object Type: "Enumeration"
  Enumerators:
    SUNDAY:
      Description: "Sunday"
    MONDAY:
      Description: "Monday"
    TUESDAY:
      Description: "Tuesday"
    WEDNESDAY:
      Description: "Wednesday"
    THURSDAY:
      Description: "Thursday"
    FRIDAY:
      Description: "Friday"
    SATURDAY:
      Description: "Saturday"

Weather:
  Object Type: "Data Group"
  Data Elements:
    monthly_ground_temperature:
      Description: "Modeled monthly ground temperatures"
      Data Type: "[Numeric][1..12]"
      Required: True
    climate_zone:
      Description: "The designation of the climate zone where the building is located"
      Data Type: "<ClimateZone2019ASHRAE901>"
      Required: True
      Notes: "The enumeration is based on the standard used."

HeatingVentilationAirConditioningSystem:
  Object Type: "Data Group"
  Data Elements:
    id:
      Description: "Unique Identification Number"
      Data Type: "Numeric"
      Required: True
    sensible_cool_output_capacity: 
      Description: "Result from the simulation of the sensible cooling capacity"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
    heat_output_capacity:
      Description: "Result from the simulation of the heating capacity"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
