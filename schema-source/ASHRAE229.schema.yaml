# ASHRAE229.schema.yaml
# The purpose of this "open229 schema" is to provide a single source generator format from which
# all open229 standard materials, both normative and informative, will be created.

# YAML single-source files will be created in accordance with the open229 schema.

# Meta

Schema:
  Object Type: "Meta"
  Title: "ASHRAE 229"
  Description: "Base schema for ASHRAE 229 representations"
  Version: "0.0.1"
  References:
    - "VentilationSpaceType_62_1_2019"
  Root Data Group: "ASHRAE229"

# Data Types

Integer:
  Object Type: "Data Type"
  Description: "A positive or negative whole number (i.e., a number that can be written without a fractional part)."
  JSON Schema Type: integer
  Examples:
    - "3"
    - "19"
    - "-4"

Numeric:
  Object Type: "Data Type"
  Description: "A number that may include a fractional part with optional leading sign and optional exponent (engineering notation)."
  JSON Schema Type: number
  Examples:
    - "3.43"
    - "0"
    - "-4"
    - "1.03e4"

Boolean:
  Object Type: "Data Type"
  Description: "True or false."
  JSON Schema Type: boolean
  Examples:
    - "true"
    - "false"

String:
  Object Type: "Data Type"
  Description: "A sequence of characters of any length using any (specified) character set."
  JSON Schema Type: string
  Examples:
    - "Indirect evaporative cooler"

"Null":
  Object Type: "Data Type"
  Description: "Indicator that no value is provided. Only used in combination with other data types, e.g., 'Number/Null'."
  JSON Schema Type: "null"
  Examples:
    - "null"

# Common Enumerations


# Common Data Groups
ASHRAE229:
  Object Type: "Data Group"
  Data Elements:
    transformers:
      Description: "Electrical transformers at the building site"
      Data Type: "[{Transformer}]"
      Notes: "Contains a list of transformers that convert electricity from a higher voltage to one used by the building, exterior lighting, and other services at the site."
    buildings:
      Description: "Buildings on the site"
      Data Type: "[{Building}]"
      Notes: "Contains a list of buildings on the site (often just one)."
    schedules:
      Description: "Schedules for internal loads, thermostats, equipment operation and control, and any other need."
      Data Type: "[{Schedule}]"
      Notes: "Contains a list of schedules used in model."

Building:
  Object Type: "Data Group"
  Data Elements:
    id:
      Description: "Unique Identification Number"
      Data Type: "Numeric"
      Required: True
      Notes: ""
    name:
      Description: "Name of the Building"
      Data Type: "String"
      Required: True
      Notes: ""
    number_of_floors:
      Description: "Number of floors"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
      Notes: ""
    thermal_blocks:
      Description: "thermal blocks in the building"
      Data Type: "[{ThermalBlock}]"
      Notes: "Contains a list of thermal blocks in the building."

ThermalBlock:
  Object Type: "Data Group"
  Data Elements:
    zones:
      Description: "zones in the building"
      Data Type: "[{Zone}]"
      Notes: "Contains a list of zones in the building."

Zone:
  Object Type: "Data Group"
  Data Elements:
    spaces:
      Description: "Spaces in the building"
      Data Type: "[{Space}]"
      Notes: "Contains a list of spaces in the building."

Space:
  Object Type: "Data Group"
  Data Elements:
    id:
      Description: "Unique Identification Number"
      Data Type: "Numeric"
      Required: True
      Notes: ""
    name:
      Description: "Name fo the Space"
      Data Type: "String"
      Required: True
      Notes: ""
    floor_area:
      Description: "The floor area of a space within the building, including basements, mezzanine and intermediate-floored tiers, and penthouses with a headroom height of 7.5 ft or greater. It is measured from the exterior faces of walls or from the center-line of walls separating buildings, but excluding covered walkways, open roofed-over areas, porches and similar spaces, pipe trenches, exterior terraces or steps, chimneys, roof overhangs, and similar features."
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
      Notes: ""
    floor_area_basis_for_exterior:
      Description: "The basis of the measurement location related to floor area for exterior walls."
      Data Type: "<FloorAreaBasis>"
      Required: True
      Notes: ""
    floor_area_basis_for_interior:
      Description: "The basis of the measurement location related to floor area for interior walls."
      Data Type: "<FloorAreaBasis>"
      Required: True
      Notes: ""
    conditioning_type:
      Description: "Space conditioning category"
      Data Type: "<ConditioningType>"
      Required: False
      Notes: ""
    lighting_space_type:
      Description: "Whether space use types are building area types from Table 9.5.1 or space use types from Table 9.6.1"
      Data Type: "<LightingSpaceType9012019>"
      Required: True
      Notes: ""
    ventilations_space_type:
      Description: "Whether space use types are building area types from Standard 62.1"
      Data Type: "<VentilationSpaceType6212019>"
      Required: True
      Notes: ""

FloorAreaBasis:
  Object Type: "Enumeration"
  Enumerators:
    CENTER:
      Description: "Center line of the wall"
      Notes: ""
      Display Text: "The area is measured to the center line of the wall"
    NEAR_SIDE:
      Description: "Near side of the wall"
      Notes: ""
      Display Text: "The area is measured to the line on the near side wall"
    FAR_SIDE:
      Description: "Far side of the wall"
      Notes: ""
      Display Text: "The area is measured to the line on the far side wall"

ConditioningType:
  Object Type: "Enumeration"
  Enumerators:
    HEATED_AND_COOLED:
      Description: "Heated and cooled"
      Notes: ""
      Display Text: "Heated and cooled"
    HEATED_ONLY:
      Description: "Heated only"
      Notes: ""
      Display Text: "Heated only"
    SEMIHEATED:
      Description: "Semiheated"
      Notes: ""
      Display Text: "Semiheated"
    UNCONDITIONED:
      Description: "Unconditioned"
      Notes: ""
      Display Text: "Unconditioned"
    PLENUM:
      Description: "Plenum"
      Notes: ""
      Display Text: "Plenum"

Transformer:
  Object Type: "Data Group"
  Data Elements:
    name:
      Description: "Transformer Name"
      Data Type: "String"
      Required: True
      Notes: ""
    type:
      Description: "The type of transformer"
      Data Type: "<TransformerType>"
      Required: True
      Notes: ""
    phase:
      Description: "The number of electrical phases"
      Data Type: "<TransformerPhase>"
      Required: True
      Notes: ""
    efficiency:
      Description: "Transformer efficiency"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
      Notes: ""
    capacity:
      Description: "Rated Capacity of the Transformer"
      Data Type: "Numeric"
      Units: "Va"
      Range: ">=0"
      Required: True
      Notes: ""
    peak_load:
      Description: "Annual Peak electric load on the transformer"
      Data Type: "Numeric"
      Units: "W"
      Range: ">=0"
      Required: True
      Notes: ""
    capacity_ratio:
      Description: "Annual Peak electric load of the transformer divided by the capacity"
      Data Type: "Numeric"
      Range: ">=0"
      Required: True
      Notes: ""
    
TransformerType:
  Object Type: "Enumeration"
  Enumerators:
    DRY_TYPE:
      Description: "Dry Type"
      Notes: ""
      Display Text: "Dry Type"
    FLUID_FILLED:
      Description: "Fluid Filled"
      Notes: ""
      Display Text: "Fluid Filled"
    OTHER:
      Description: "Other"
      Notes: ""
      Display Text: "Other"

TransformerPhase:
  Object Type: "Enumeration"
  Enumerators:
    SINGLE_PHASE:
      Description: "Single Phase"
      Notes: ""
      Display Text: "Single Phase"
    THREE_PHASE:
      Description: "Three Phase"
      Notes: ""
      Display Text: "Three Phase"

Schedule:
  Object Type: "Data Group"
  Data Elements:
    id:
      Description: "Unique Identification Number"
      Data Type: "Numeric"
      Required: True
      Notes: ""
    name:
      Description: "Name of the Schedule"
      Data Type: "String"
      Required: True
      Notes: ""
    type:
      Description: "The type of schedule"
      Data Type: "String"
      Required: True
      Notes: "Not an enumerations because we only care that the type assigned by BEM tool matches across RMR"
    values:
      Description: "Hourly Values of Schedule"
      Data Type: "[Numeric][1..8760]"
      Required: True
      Notes: ""
    
Calendar:
  Object Type: "Data Group"
  Data Elements:
    id:
      Description: "Unique Identification Number"
      Data Type: "Numeric"
      Required: True
    day_of_week_for_january_1:
      Description: "Day of the Week for January 1"
      Data Type: "<DayOfWeek>"
      Required: True
    is_leap_year:
      Description: "The schedules assume it is a leap year"
      Data Type: "Boolean"
      Required: True
    is_daylight_savings_time:
      Description: "The schedules adjust for daylight Savings Time"
      Data Type: "Boolean"
      Required: True

DayOfWeek:
  Object Type: "Enumeration"
  Enumerators:
    SUNDAY:
      Description: "Sunday"
    MONDAY:
      Description: "Monday"
    TUESDAY:
      Description: "Tuesday"
    WEDNESDAY:
      Description: "Wednesday"
    THURSDAY:
      Description: "Thursday"
    FRIDAY:
      Description: "Friday"
    SATURDAY:
      Description: "Saturday"
    