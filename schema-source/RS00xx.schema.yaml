Schema:
  Object Type: "Meta"
  References:
    - "ASHRAE205"
  Title: "Fenestration"
  Description: "Schema for ASHRAE 205 annex RS00xx: Fenestration" 
  Version: "1.0.0"
  Root Data Group: "RS00xx"

# Local Enumerations
NRFC100TestStandardYear:
  Object Type: "Enumeration"
  Enumerators:
    Y2023:
      Description: "Ratings of the standard, 2023 edition"
      Display Text: "NFRC 100 2023"

# Local Enumerations
NRFC200TestStandardYear:
  Object Type: "Enumeration"
  Enumerators:
    Y2023:
      Description: "Ratings of the standard, 2023 edition"
      Display Text: "NFRC 200 2023"


# Data Groups
RS00xx:
  Object Type: "Data Group"
  Data Elements:
    metadata:
      Description: "Metadata data group"
      Data Type: "{Metadata}"
      Constraints: "schema=RS00xx"
      Required: True
    description:
      Description: "Data group describing product and rating information"
      Data Type: "{Description}"
    performance:
      Description: "Data group containing performance information"
      Data Type: "{Performance}"
      Required: True

Description:
  Object Type: "Data Group"
  Data Elements:
    product_information:
      Description: "Data group describing product information"
      Data Type: "{ProductInformation}"
    rating_nfrc:
      Description: "Data group containing information relevant to products rated under AHRI 210/240"
      Data Type: "{RatingNFRC}"

ProductInformation:
  Object Type: "Data Group"
  Data Elements:
      manufacturer:
        Description: "Manufacturer name"
        Data Type: "String"
      model_number:
        Description: "Model number"
        Data Type: "Pattern"
        Notes: "Pattern shall match all model numbers that can be represented by the representation"

RatingNFRC:
  Object Type: "Rating Data Group"
  Data Elements:
    nfrc_100_test_standard_year:
      Description: "Year of the AHRI test standard"
      Data Type: "<NRFC100TestStandardYear>"
    nfrc_200_test_standard_year:
      Description: "Year of the AHRI test standard"
      Data Type: "<NRFC200TestStandardYear>"
    rating_source:
      Description: "Source of this rating data"
      Data Type: "String"
      Notes: "Used by data publisher to document methods (e.g., software and version) used to generate rating data"
    u_factor:
      Description: "Rated U-Factor"
      Data Type: "Numeric"
      Units: "Btu/h-ft2-F"
      Constraints: ">=0.0"
    shgc:
      Description: "Solar Heat Gain Coefficient"
      Data Type: "Numeric"
      Units: "-"
      Constraints: ">=0.0"
    vt:
      Description: "Visible Transmittance"
      Data Type: "Numeric"
      Units: "-"
      Constraints: ">0.0"
    air_leakage:
      Description: "The Integrated Part-Load Value efficiency of merit calculated at the standard rating conditions"
      Data Type: "Numeric"
      Units: "ft3/min-ft2"

Performance:
  Object Type: "Data Group"
  Data Elements:
    speed_ratio:
      Description: "Ratio of input shaft speed to output shaft speed"
      Data Type: "Numeric" # TODO: Should this be a list or a range of options?
      Units: "-"
      Constraints: ">0.0"
      Required: True
    scaling:
      Description: "Specifies the range the performance data can be scaled to represent different capacity equipment"
      Data Type: "{Scaling}"
      Notes: "If not present, scaling of the performance data is not allowed"
    performance_map:
      Description: "Data group describing drive performance when operating"
      Data Type: "{PerformanceMap}"
      Required: True

PerformanceMap:
  Object Type: "Performance Map"
  Data Elements:
    grid_variables:
      Description: "Data group describing grid variables for drive performance"
      Data Type: "{GridVariables}"
      Required: True
    lookup_variables:
      Description: "Data group describing lookup variables for drive performance"
      Data Type: "{LookupVariables}"
      Required: True

GridVariables:
  Object Type: "Grid Variables"
  Data Elements:
    output_power:
      Description: "Output shaft power"
      Data Type: "[Numeric][1..]"
      Constraints: ">=0.0"
      Units: "W"
      Required: True
      Scalable: True

LookupVariables:
  Object Type: "Lookup Variables"
  Data Elements:
    efficiency:
      Description: "Efficiency of drive"
      Data Type: "[Numeric][1..]"
      Constraints: [">=0.0","<=1.0"]
      Units: "-"
      Notes: "Defined as the ratio of output shaft power to input shaft power"
      Required: True
    operation_state:
      Description: "The operation state at the operating conditions"
      Data Type: "[<OperationState>]"
      Units: "-"
      Required: True
